{% extends "base.html" %}

{% block title %}Home{% endblock %}

{% block content %}
<section class="min-h-screen bg-gray-50 px-4 py-12 flex flex-col items-center space-y-10">

    <!-- SUBJECTS TABLE -->
    <div class="w-full max-w-6xl bg-white rounded-2xl shadow-lg p-6">
        <h1 class="text-2xl font-bold text-gray-800 mb-6">Subjects</h1>

        <div class="overflow-x-auto">
            <table class="table-auto w-full border-collapse">
                <thead>
                    <tr class="bg-indigo-100 text-gray-800">
                        <th class="px-4 py-2 text-left">Subject Code</th>
                        <th class="px-4 py-2 text-left">Subject Name</th>
                        <th class="px-4 py-2 text-left">Instructor</th>
                        <th class="px-4 py-2 text-left">Room</th>
                        <th class="px-4 py-2 text-left">Department</th>
                        <th class="px-4 py-2 text-center">Actions</th>
                    </tr>
                </thead>
                <tbody>
                    {% for subject in subjects %}
                    <tr class="border-b hover:bg-gray-50">
                        <td class="px-4 py-2">{{ subject.subject_code }}</td>
                        <td class="px-4 py-2">{{ subject.subject_name }}</td>
                        <td class="px-4 py-2">{{ subject.instruction }}</td>
                        <td class="px-4 py-2">{{ subject.room }}</td>
                        <td class="px-4 py-2">{{ subject.department }}</td>
                        <td class="px-4 py-2 text-center space-x-2">
                            <a href="{% url 'update_subject' subject.pk %}" class="btn btn-warning btn-sm">Update</a>
                            <a href="{% url 'delete_subject' subject.pk %}" class="btn btn-error btn-sm">Delete</a>
                        </td>
                    </tr>
                    {% empty %}
                    <tr>
                        <td colspan="6" class="text-center text-gray-500 py-4">No subjects available.</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>


    <div class="w-full max-w-3xl bg-white rounded-2xl shadow-lg p-8">
        <h2 class="text-2xl font-bold text-gray-800 mb-6">Add / Edit Subject</h2>

        <form method="POST" class="grid grid-cols-1 md:grid-cols-2 gap-6">
            {% csrf_token %}

            <!-- Subject Code -->
            <div class="flex flex-col">
                <label for="{{ form.subject_code.id_for_label }}" class="font-semibold text-gray-700 mb-1">Subject Code</label>
                {{ form.subject_code }}
            </div>

            <!-- Subject Name -->
            <div class="flex flex-col">
                <label for="{{ form.subject_name.id_for_label }}" class="font-semibold text-gray-700 mb-1">Subject Name</label>
                {{ form.subject_name }}
            </div>

            <!-- Instructor -->
            <div class="flex flex-col">
                <label for="{{ form.instruction.id_for_label }}" class="font-semibold text-gray-700 mb-1">Instructor</label>
                {{ form.instruction }}
            </div>

            <!-- Room -->
            <div class="flex flex-col">
                <label for="{{ form.room.id_for_label }}" class="font-semibold text-gray-700 mb-1">Room</label>
                {{ form.room }}
            </div>

            <!-- Department -->
            <div class="flex flex-col">
                <label for="{{ form.department.id_for_label }}" class="font-semibold text-gray-700 mb-1">Department</label>
                {{ form.department }}
            </div>

            <!-- Time -->
            <div class="flex flex-col">
                <label for="{{ form.time.id_for_label }}" class="font-semibold text-gray-700 mb-1">Time</label>
                {{ form.time }}
            </div>

            <!-- Submit Button -->
            <div class="md:col-span-2 flex justify-end">
                <button type="submit" class="btn btn-primary px-6 py-2 font-semibold">Submit</button>
            </div>
        </form>
    </div>


</section>
{% endblock %}
